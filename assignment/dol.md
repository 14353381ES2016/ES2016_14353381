# DOL的实例分析和编程
## 实验结果图：
### 1.1  example1

##### 未修改前的运行结果：

> 未修改前，平方模块的功能是计算出0~19的平方，运行结果如图： 

![](http://p1.bpimg.com/4851/597c046c4af37133.jpg)

##### 修改后的运行结果：

> 修改后，平方模块的功能是计算出0~19的三次方，运行结果如图： 

![](http://p1.bpimg.com/4851/52fc74c5adf54e31.jpg)

##### .dol图
> 因为实验中只改了参数i，即将平方改成了三次方，并没有影响生产者，平方模块和消费者之间的通道关系，所以他们的.dol图并没有改变，还是下图：

![](http://p1.bpimg.com/4851/b83882cb18ce529f.jpg)

### 1.2 example2

##### 未修改前的运行结果：

> 未修改前，共有3个平方模块，它的功能时计算出0~19的8次方，运行结果如图： 

![](http://p1.bpimg.com/4851/87d88d286096406c.jpg)

##### 修改后的运行结果：

> 修改后，只剩下2个平方模块，它的功能时计算出0~19的4次方，运行结果如图： 

![](http://p1.bpimg.com/4851/ebe4eab3df1a6ab2.jpg)

##### 修改前的.dol图

> 未修改前，.dol图有三个平方模块，用4个通道连接生产者，消费者和三个平方模块

![](http://p1.bpimg.com/4851/828aefb5c23fc49e.jpg)

##### 修改后的.dol图

> 修改后，.dol图有两个平方模块，用3个通道连接生产者，消费者和两个平方模块

![](http://p1.bpimg.com/4851/e6dac19948450f79.jpg)

## 修改过程：
* 打开平方模块的.c文件，将i的平方改为i的三次方，接着，因为第一次实验运行了example1，在build/bin/main文件夹下存在了example1的文件夹，所以要先删除，再进行编译。编译的指令

        sudo ant -f runexample.xml -Dnumber=1

* 在example2中，修改.xml的迭代，将value从3改为2，由于其他迭代都是循环，只需要改他的value值就可以将循环继续使用。之后再使用指令，编译运行example2.

        sudo ant -f runexample.xml -Dnumber=2

## 实验感想：
这次实验，编程工作并不困难，比较困难的是实例分析，自己理解时，仍是花费不少时间，因为只有你看懂了代码，才能知道之后出错后，你要在哪里debug，再有就是其他一些细节性的却不能忽略的问题。例如：

* 1、进入编译之前，要再一次编译build文件，不然有可能出错，又遇到同学是找不到build.xml文件而build fail的。
* 2、正确理解指令中Dnumber=XX的意思，我一开始是以为进入example文件夹中编译的，后来才知道，用Dnumber==XX指定相应的example进行编译。
* 3、还是需要注意每次将编译后的在build/bin/main文件夹里生成的文件夹删去，不然会build fail。

最后，解决之后发现这次实验还是比较注重于自己个人去进行实例分析，理解各个部分的功能作用。

